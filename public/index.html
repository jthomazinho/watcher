<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; connect-src 'self' https:; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; font-src 'self' data:; frame-src 'self' https:;">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Watcher Overlay</title>
	<style>
		html, body {
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			background: transparent;
		}
		#root {
			position: fixed;
			top: 0; left: 0; right: 0; bottom: 0;
			background: transparent;
			pointer-events: none;
		}
		/* Top taskbar */
		.taskbar {
			position: absolute;
			top: 0; left: 0; right: 0;
			height: 48px;
			background: rgba(22, 22, 22, 0.5);
			color: #fff;
			display: flex;
			pointer-events: auto;
			align-items: center;
			gap: 12px;
			padding: 0 12px;
			box-sizing: border-box;
			pointer-events: auto; /* interactive */
			transition: transform 180ms ease-in-out, opacity 180ms ease-in-out;
		}
		.taskbar.hidden {
			transform: translateY(-100%);
			opacity: 0.2;
		}
		/* Small handle when hidden */
		.handle {
			position: absolute;
			top: 0;
			left: 50%;
			transform: translate(-50%, 0);
			width: 120px;
			height: 6px;
			background: rgba(22,22,22,0.7);
			border-bottom-left-radius: 6px;
			border-bottom-right-radius: 6px;
			pointer-events: auto;
			z-index: 2;
		}
		.handle.hidden { display: none; }
		.taskbar { z-index: 3; }
		/* Webview area container */
		.webview-wrapper {
			position: absolute;
			top: 60px; /* below taskbar */
			left: 40px;
			right: 40px;
			bottom: 40px;
			border-radius: 12px;
			overflow: hidden;
			pointer-events: auto; /* interactive region */
			background: rgba(0,0,0,0.0); /* keep transparent; child controls visibility */
		}
		.webview-wrapper.hidden { display: none; pointer-events: none; }
		/* Buttons */
		button { background: #2f2f2f; color: #fff; border: 1px solid #444; padding: 6px 10px; border-radius: 6px; cursor: pointer; }
		button:hover { background: #3a3a3a; }
		.left-controls { display: flex; gap: 8px; margin-left: 100px; }
	</style>
</head>
<body>
	<div id="root">
		<div class="taskbar interactive hidden" id="taskbar">
			<div class="left-controls">
				<button id="btnTabDashboard">Dashboard</button>
				<button id="btnTabAgenda">Agenda</button>
				<button id="btnTabChatGPT">ChatGPT</button>
				<button id="btnTabSettings">Configurações</button>
				<button id="btnTabTrading">Trading</button>
				<button id="btnTabLib">Lib</button>
				<button id="btnTabQual">Qual</button>
			</div>
			<div style="flex:1"></div>
			<button id="btnDevTools" title="DevTools" style="margin-left:8px;">⚙</button>
			<button id="btnClose" title="Fechar" style="margin-left:8px; background:#8b1a1a;">✕</button>
		</div>
		<div class="handle interactive" id="handle"></div>
				<div class="webview-wrapper interactive hidden" id="webview-wrap">
				<webview id="dashboard" src="./dashboard.html" allowpopups disableblinkfeatures="Auxclick" preload="./webview-preload.js" webpreferences="contextIsolation=yes, nodeIntegration=no, devTools=yes" style="width:100%; height:100%; background: transparent;"></webview>
			</div>
	</div>

	<!-- Load use cases and main application -->
	<script src="./js/usecases-bundle.js"></script>
	<script src="./js/overlay-main.js"></script>
</body>
</html> 